<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Questionnaire</title>

    <link href="../css/questionnaire.css" data-th-href="@{/css/questionnaire.css}" rel="stylesheet">

    <script data-th-src="@{/js/questionnaire.js}" src="../js/questionnaire.js"></script>
</head>
<body>
<header>
    <p><span>Product of the day</span></p>

    <fieldset data-th-if="${product != null}">
        <h2 data-th-text="${product.name}"></h2>
        <img alt="Product Image" data-th-alt="${product.name}" data-th-src="@{'/images/'+${product.image}}" height="200" src="https://via.placeholder.com/200x200?text=product" width="200">
    </fieldset>

    <br>

    <form data-th-action="@{'/submit'}" method="post">
        <!-- Mandatory questions -->
        <fieldset id="mandatory-questions">
            <legend>Questions</legend>

            <div data-th-each="question,iter : ${questions}">
                <label data-th-for="answer + ${iter.index + 1}" data-th-text="${question.question}" for="answer1">Question 1: </label>
                <input data-th-id="answer + ${iter.index + 1}" id="answer1" name="answer[]" required size="200" type="text">
            </div>

            <br><br>

            <input id="nextBtn" name="next" type="button" value="Next">
        </fieldset>

        <!-- Optional questions -->
        <fieldset id="optional-questions">
            <legend>Stats</legend>

            <label for="age">Age:</label>
            <input id="age" name="age" type="number" min="0" max="130">

            <br>

            <label for="sex">Sex:</label>
            <select name="sex" id="sex">
                <option value=""></option>
                <option data-th-each="sex : ${sexs}" data-th-value="${sex.name}" data-th-text="${sex.name}"></option>
            </select>

            <br>

            <label for="expLevel">Expertise Level:</label>
            <select name="expLevel" id="expLevel">
                <option value=""></option>
                <option data-th-each="expLevel : ${expLevels}" data-th-value="${expLevel.name}" data-th-text="${expLevel.name}"></option>
            </select>

            <br>

            <input id="prevBtn" name="previous" type="button" value="Previous">
            <input name="submit" type="submit" value="Submit">
        </fieldset>
    </form>

    <br>

    <form data-th-action="@{'/cancel'}" method="get">
        <input name="cancel" type="submit" value="Cancel">
    </form>

</header>
</body>
</html>