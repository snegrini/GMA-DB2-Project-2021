<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Questionnaire</title>

    <script data-th-src="@{/js/questionnaire.js}" src="../../questionnaire.js"></script>
</head>
<body>
<header>
    <p><span>Product of the day</span></p>

    <fieldset data-th-if="${product != null}">
        <h2 data-th-text="${product.name}"></h2>
        <img alt="Product Image" data-th-alt="${product.name}" data-th-src="@{'/images/'+${product.image}}" height="200" src="https://via.placeholder.com/200x200?text=product" width="200">
    </fieldset>

    <br>

    <form data-th-action="@{'/questionnaire'}" method="post">
        <fieldset>
            <!-- Mandatory questions -->
            <div id="mandatory-questions">
                <h3>Questions</h3>

                <div data-th-each="question,iter : ${questions}">
                    <label data-th-for="answer + ${iter}" data-th-text="${question.question}" for="answer1">Question 1: </label>
                    <input data-th-id="answer + ${iter}" id="answer1" name="answer[]" required size="200" type="text">
                </div>

                <br><br>

                <input id="nextBtn" name="next" type="submit" value="Next">
                <input name="cancel" type="submit" value="Cancel">
            </div>

            <!-- Optional questions -->
            <div id="optional-questions">
                <h3>Stats</h3>

                <label for="age">Age:</label>
                <input id="age" name="age" type="number" min="0" max="130">

                <br>

                <label for="sex">Sex:</label>
                <select data-th-remove="all-but-first" name="sex" id="sex">
                    <option value="volvo" data-th-each="sex : ${sexs}" data-th-value="${sex.name}" data-th-text="${sex.name}">Volvo</option>
                    <option value="saab">Saab</option>
                    <option value="mercedes">Mercedes</option>
                    <option value="audi">Audi</option>
                </select>

                <br>

                <label for="expLevel">Expertise Level:</label>
                <select data-th-remove="all-but-first" name="expLevel" id="expLevel">
                    <option value="volvo" data-th-each="expLevel : ${expLevels}" data-th-value="${expLevel.name}" data-th-text="${expLevel.name}">Volvo</option>
                    <option value="saab">Saab</option>
                    <option value="mercedes">Mercedes</option>
                    <option value="audi">Audi</option>
                </select>

                <br>

                <input id="prevBtn" name="previous" type="submit" value="Previous">
                <input name="cancel" type="submit" value="Cancel">
                <input name="submit" type="submit" value="Submit">
            </div>
        </fieldset>
    </form>

</header>
</body>
</html>